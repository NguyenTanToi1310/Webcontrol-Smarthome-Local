<div id="content">
    <div id="left">
      <img src="../../../assets/sign-in-sign-up/signin-image.jpg">
    </div>
    <div id="right">
        <div class="login" [routerLink]="['/login']" routerLinkActive="router-link-active">
            <mat-icon style="vertical-align: middle; display: inline-block">arrow_back</mat-icon>
            <div style="vertical-align: middle; display: inline-block">Đăng nhập</div>
        </div>  
        <br>    
        <h1 class="d-flex title-standee">Quên mật khẩu</h1>
        <div>
            <form class="example-form" *ngIf="isCodeSent == false; else elseBlock" [formGroup]="information" (ngSubmit)="forgotPassword()">
                <br>
                <mat-form-field class="example-full-width">
                    <mat-label>Email</mat-label>
                    <input matInput type="email" formControlName="email" [email]="true" required />
                </mat-form-field>

                <div>
                    <button class="example-button-row" mat-flat-button type="submit" color="primary" [disabled]="!information.value.email">
                        Tìm kiếm tài khoản
                    </button>
                </div>                     
            </form>
            
            <ng-template #elseBlock>
                <br>
                <div>Mã xác thực đã được gửi đến {{user.email}} </div>
                <form class="example-form" [formGroup]="information" (ngSubmit)="forgotPasswordSubmit()">    
                    <mat-form-field class="example-full-width">
                        <mat-label>Mã xác thực</mat-label>
                        <input matInput type="text" formControlName="code" required autocomplete="off" />
                    </mat-form-field> 
                    
                    <mat-form-field class="example-full-width">
                        <mat-label>Mật khẩu mới</mat-label>
                        <input matInput type="password" formControlName="password" required />
                    </mat-form-field>
                    
                    <mat-form-field class="example-full-width">
                        <mat-label>Nhập lại mật khẩu mới</mat-label>
                        <input matInput type="password" formControlName="repassword" required />
                    </mat-form-field>
                    
                    <div>
                        <button class="example-button-row" mat-flat-button type="submit" color="primary" [disabled]="!information.valid">
                            Xác nhận
                        </button>
                    </div>                      
                </form>
                <div style="margin-top: 20px;">
                    <span class="resend-code" (click)="changeEmail()" style="margin-left: 0px;">Nhập lại email</span>
                  </div>
            </ng-template>
        </div>
        <h3 *ngIf="statusRegistration !== ''">{{ statusRegistration.message }}</h3>
        <!-- <div class="d-flex notify-status">
            <div class="example-form">
                <div *ngIf="statusRegistration === 'SIGNUP_OK'; else elseBlock">
                    <h3>Đăng ký thành công !!!</h3>
                </div>
                <ng-template #elseBlock>
                    <h3 *ngIf="statusRegistration !== ''">{{ statusRegistration.message }}</h3>
                </ng-template>
            </div>
        </div> -->
        
    </div>
</div>
